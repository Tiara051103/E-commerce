<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  {% if daftar_produk %}
    {% for produk in daftar_produk %}
      <div class="bg-white rounded-lg shadow p-4 flex flex-col">

        <!-- GAMBAR PRODUK -->
        {% if produk.gambar %}
          <img
            src="{{ url_for('static', filename='uploads/produk/' ~ produk.gambar) }}"
            alt="{{ produk.nama }}"
            class="h-40 w-full object-cover rounded mb-3"
          >
        {% else %}
          <div class="h-40 w-full bg-gray-100 flex items-center justify-center rounded mb-3 text-gray-400">
            Tidak ada gambar
          </div>
        {% endif %}

        <h3 class="text-lg font-semibold text-gray-800 mb-1">
          {{ produk.nama }}
        </h3>

        <p class="text-gray-600 text-sm mb-2 line-clamp-2">
          {{ produk.deskripsi }}
        </p>

        <p class="text-blue-600 font-bold mb-4">
          Rp {{ produk.harga }}
        </p>

        <div class="mt-auto flex gap-2">

  <!-- DETAIL -->
  <button
    hx-get="{{ url_for('main.detail_produk', id=produk.id) }}"
    hx-target="#modal-detail-content"
    hx-swap="innerHTML"
    onclick="document.getElementById('modal-detail').classList.remove('hidden')"
    class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-3 rounded"
  >
    Detail
  </button>

  <!-- TAMBAH KE CART -->
  <form
    action="{{ url_for('cart.tambah_item_cart') }}"
    method="post"
    class="flex-1"
  >
    <input type="hidden" name="id_produk" value="{{ produk.id }}">
    <input type="hidden" name="nama_produk" value="{{ produk.nama }}">
    <input type="hidden" name="harga" value="{{ produk.harga }}">
    <input type="hidden" name="jumlah" value="1">
    <button
      type="submit"
      class="w-full bg-green-500 hover:bg-green-600 text-white py-2 px-3 rounded"
    >
      ðŸ›’
    </button>
  </form>

</div>


      </div>
      
    {% endfor %}
  {% else %}
    <p class="col-span-full text-center text-gray-500">
      Tidak ada produk
    </p>
  {% endif %}
</div>
